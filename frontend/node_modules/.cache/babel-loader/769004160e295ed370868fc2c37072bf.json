{"ast":null,"code":"import _slicedToArray from\"/Users/alexandrkatsuro/Downloads/Yandex_practicum/dev/project-work-15/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var onClose=_ref.onClose,isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser;// Подписка на контекст\nvar currentUser=useContext(CurrentUserContext);// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nuseEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleSubmit(e){// Запрещаем браузеру переходить по адресу формы\ne.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}//---ОБРАБОТЧИКИ---\nfunction handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"profile\",isOpen:isOpen,onClose:onClose,buttonTitle:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:name||\"\",onChange:handleChangeName,id:\"name-input\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__input popup__input_field_name\",name:\"name\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"name-input-error\",className:\"name-input-error popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{value:description||\"\",onChange:handleChangeDescription,id:\"info-input\",type:\"text\",placeholder:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\",className:\"popup__input popup__input_field_info\",name:\"about\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"info-input-error\",className:\"info-input-error popup__input-error popup__input-error_centrate\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfilePopup","onClose","isOpen","onUpdateUser","currentUser","setName","name","setDescription","about","description","handleSubmit","e","preventDefault","handleChangeName","target","value","handleChangeDescription"],"sources":["/Users/alexandrkatsuro/Downloads/Yandex_practicum/dev/project-work-15/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup({ onClose, isOpen, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = useContext(CurrentUserContext);\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  //---ОБРАБОТЧИКИ---\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"profile\"\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonTitle=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name || \"\"}\n        onChange={handleChangeName}\n        id=\"name-input\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        className=\"popup__input popup__input_field_name\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span\n        id=\"name-input-error\"\n        className=\"name-input-error popup__input-error\"\n      ></span>\n      <input\n        value={description || \"\"}\n        onChange={handleChangeDescription}\n        id=\"info-input\"\n        type=\"text\"\n        placeholder=\"Информация\"\n        className=\"popup__input popup__input_field_info\"\n        name=\"about\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span\n        id=\"info-input-error\"\n        className=\"info-input-error popup__input-error popup__input-error_centrate\"\n      ></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n"],"mappings":"yLAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,cAAP,KAA0B,oBAA1B,CACA,OAASC,kBAAT,KAAmC,mCAAnC,C,wFAEA,QAASC,iBAAT,MAA6D,IAAjCC,QAAiC,MAAjCA,OAAiC,CAAxBC,MAAwB,MAAxBA,MAAwB,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC3D;AACA,GAAMC,YAAW,CAAGR,UAAU,CAACG,kBAAD,CAA9B,CAEA;AACA;AACAF,SAAS,CAAC,UAAM,CACdQ,OAAO,CAACD,WAAW,CAACE,IAAb,CAAP,CACAC,cAAc,CAACH,WAAW,CAACI,KAAb,CAAd,CACD,CAHQ,CAGN,CAACJ,WAAD,CAAcF,MAAd,CAHM,CAAT,CAKA,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOW,IAAP,eAAaD,OAAb,eACA,eAAsCV,QAAQ,CAAC,EAAD,CAA9C,yCAAOc,WAAP,eAAoBF,cAApB,eAEA,QAASG,aAAT,CAAsBC,CAAtB,CAAyB,CACvB;AACAA,CAAC,CAACC,cAAF,GACA;AACAT,YAAY,CAAC,CACXG,IAAI,CAAJA,IADW,CAEXE,KAAK,CAAEC,WAFI,CAAD,CAAZ,CAID,CAED;AACA,QAASI,iBAAT,CAA0BF,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACG,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,wBAAT,CAAiCL,CAAjC,CAAoC,CAClCJ,cAAc,CAACI,CAAC,CAACG,MAAF,CAASC,KAAV,CAAd,CACD,CAED,mBACE,MAAC,aAAD,EACE,KAAK,CAAC,2HADR,CAEE,IAAI,CAAC,SAFP,CAGE,MAAM,CAAEb,MAHV,CAIE,OAAO,CAAED,OAJX,CAKE,WAAW,CAAC,wDALd,CAME,QAAQ,CAAES,YANZ,wBAQE,cACE,KAAK,CAAEJ,IAAI,EAAI,EADjB,CAEE,QAAQ,CAAEO,gBAFZ,CAGE,EAAE,CAAC,YAHL,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,oBALd,CAME,SAAS,CAAC,sCANZ,CAOE,IAAI,CAAC,MAPP,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,IATZ,CAUE,QAAQ,KAVV,EARF,cAoBE,aACE,EAAE,CAAC,kBADL,CAEE,SAAS,CAAC,qCAFZ,EApBF,cAwBE,cACE,KAAK,CAAEJ,WAAW,EAAI,EADxB,CAEE,QAAQ,CAAEO,uBAFZ,CAGE,EAAE,CAAC,YAHL,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,8DALd,CAME,SAAS,CAAC,sCANZ,CAOE,IAAI,CAAC,OAPP,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,KATZ,CAUE,QAAQ,KAVV,EAxBF,cAoCE,aACE,EAAE,CAAC,kBADL,CAEE,SAAS,CAAC,iEAFZ,EApCF,GADF,CA2CD,CAED,cAAehB,iBAAf"},"metadata":{},"sourceType":"module"}